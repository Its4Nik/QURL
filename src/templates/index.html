<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Linktree Clone</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>

<body>
    <div class="container">
        <h1>Create a new link</h1>
        <form method="POST" action="/create">
            <label for="destination">Destination URL:</label>
            <input type="text" id="destination" name="destination" required>
            <label for="slug">Custom Slug (optional):</label>
            <input type="text" id="slug" name="slug">
            <button type="submit">Create</button>
        </form>

        <h1>Existing Links</h1>
        <ul>
            {% for link in links %}
            <li>
                <a href="/s/{{ link.slug }}" target="_blank">/{{ link.slug }}</a> 🌐 {{ link.destination }}
                ({{ link.clicks }} clicks)
                <form method="POST" action="/edit/{{ link.slug }}" style="display:inline;">
                    <label for="destination">New Destination:</label>
                    <input type="text" id="destination" name="destination" required>
                    <button type="submit">Save</button>
                </form>
                <img src="{{ url_for('qr_code', slug=link.slug) }}" alt="QR Code" style="width: 100px; height: 100px;">
            </li>
            {% endfor %}
        </ul>
    </div>
</body>

</html>